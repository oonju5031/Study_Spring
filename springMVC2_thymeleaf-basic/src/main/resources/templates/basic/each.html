<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
	<meta charset="UTF-8">
	<title>반복</title>

	<style>
		table, th, td {
			border: 1px solid black;
		}
	</style>
</head>
<body>

<h1>기본 테이블</h1>
<table>
	<tr>
		<th>username</th>
		<th>age</th>
	</tr>
	<tr th:each="user : ${users}">
		<td th:text="${user.username}">username</td>
		<td th:text="${user.age}">0</td>
	</tr>
</table>

<h1>반복 상태 유지</h1>
<!--
반복의 첫 번째 파라미터(user)가 리스트에서 가져온 값을 전달한다면,
반복의 두 번째 파라미터(userStat)를 통해 반복의 상태를 확인할 수 있다.
이 때 파라미터명은 별도로 명시할 수도 있고 생략할 수도 있는데, 생략하는 경우 (변수명)+Stat으로 자동 생성된다(user + Stat = userStat).
-->
<table>
	<tr>
		<th>count</th>
		<th>username</th>
		<th>age</th>
		<th>etc</th>
	</tr>
	<tr th:each="user, userStat : ${users}">
		<td th:text="${userStat.count}">0</td>
		<td th:text="${user.username}">username</td>
		<td th:text="${user.age}">0</td>
		<td>
			index = <span th:text="${userStat.index} + ','"></span>  <!-- 0부터 시작하는 값 -->
			count = <span th:text="${userStat.count} + ','"></span>  <!-- 1부터 시작하는 값 -->
			size = <span th:text="${userStat.size} + ','"></span>  <!-- 리스트/맵의 전체 사이즈 -->
			even = <span th:text="${userStat.even} + ','"></span>  <!-- count의 짝수 여부(boolean) -->
			odd = <span th:text="${userStat.odd} + ','"></span>  <!-- count의 홀수 여부(boolean) -->
			first = <span th:text="${userStat.first} + ','"></span>  <!-- 첫 번째 여부(boolean) -->
			last = <span th:text="${userStat.last} + ','"></span>  <!-- 마지막 여부(boolean) -->
			current = <span th:text="${userStat.current}"></span>  <!-- 현재 객체 -->
		</td>
	</tr>
</table>

</body>
</html>